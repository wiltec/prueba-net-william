@{
    ViewBag.Title = "Product";
}

<br />

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h4 class="m-0 font-weight-bold">Productos</h4>
    </div>
    <div class="card-body">
        <div class="col-sm-12 text-right">
            <button type="button" class="btn btn-primary" onclick="OpenModal();"><i class="fa fa-plus" aria-hidden="true"></i> </button>
        </div>
        <br />

        <div class="table-responsive" id="divTable">
            <center><img src="~/Content/images/loading.gif" id="loading" style="display:none;" width="100px" /></center>
        </div>
    </div>
</div>


<div id="divTable">
    <center><img src="~/Content/images/loading.gif" id="loading" style="display:none;" width="100px" /></center>
</div>

<div class="modal fade" id="productModal" role="dialog" aria-labelledby="productModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="productModalLabel">Agregar Producto</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12" id="divAlert">
                    </div>
                </div>

                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtNameProduct" type="text" placeholder="Nombre" />
                                <label for="txtNameProduct">Nombre</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtModel" type="text" placeholder="Modelo comercial" />
                                <label for="txtModel">Modelo comercial</label>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtCode" type="text" placeholder="Código" />
                                <label for="txtCode">Código</label>
                            </div>
                        </div>
                        <div class="col-md-6">                            
                            <select class="form-control" id="selectCategory">    
                                <option value="-1" selected="selected">Selecciona una categoría</option>                            
                            </select>                            
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtPrice" type="number" placeholder="Precio" />
                                <label for="txtPrice">Precio</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtStock" type="number" placeholder="Stock" />
                                <label for="txtStock">Stock</label>
                            </div>
                        </div>
                    </div>
                </form>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="CloseDialog($('#productModal'));">Cancelar</button>
                    <button type="button" id="btnAdd" class="btn btn-primary" onclick="AddProduct();">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="productModalE" role="dialog" aria-labelledby="productModalLabelE" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="productModalLabelE">Editar Producto</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12" id="divAlertE">
                    </div>
                </div>

                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input id="idProductE" type="hidden">
                                <input class="form-control" id="txtNameProductE" type="text" placeholder="Nombre" />
                                <label for="txtNameProductE">Nombre</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtModelE" type="text" placeholder="Modelo comercial" />
                                <label for="txtModelE">Modelo comercial</label>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtCodeE" type="text" placeholder="Código" />
                                <label for="txtCodeE">Código</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <select class="form-control" id="selectCategoryE">
                                <option value="-1" selected="selected">Selecciona una categoría</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtPriceE" type="number" placeholder="Precio" />
                                <label for="txtPriceE">Precio</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-3 mb-md-0">
                                <input class="form-control" id="txtStockE" type="number" placeholder="Stock" />
                                <label for="txtStockE">Stock</label>
                            </div>
                        </div>
                    </div>
                </form>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="CloseDialog($('#productModalE'));">Cancelar</button>
                    <button type="button" id="btnEdit" class="btn btn-primary" onclick="EditProduct();">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="DeleteProductModal" role="dialog" aria-labelledby="DeleteProductModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="DeleteProductModalLabel">Eliminar Producto</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12" id="divAlertD">
                    </div>
                </div>
                <input id="idProductD" type="hidden">
                ¿Desea eliminar el registro con id <label id="lblDelete"></label> ?
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="CloseDialog($('#DeleteProductModal'));">Cancelar</button>
                    <button type="button" id="btnDelete" class="btn btn-primary" onclick="DeleteProduct();">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<link href="~/Content/css/dataTables.bootstrap4.min.css" rel="stylesheet" />

<script src="~/Scripts/jquery.dataTables.js"></script>
<script src="~/Scripts/dataTables.bootstrap4.min.js"></script>

<script src="~/Scripts/Home/Product.js"></script>
